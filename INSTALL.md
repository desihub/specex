# Installing specex

## Prerequisites

This package depends only on [HARP](https://github.com/tskisner/HARP),
which provides links to `cfitsio` and `lapack`.  The command `harpconfig`
must be in your `$PATH`.


## Installing with Makefiles

This is the technique used by Ted to install specex at NERSC.  Ensure that
HARP is installed and that the harpconfig script is in your $PATH.

Next decide where to install specex.  We will call that directory `$WHERE`.
Make all software and install it by doing:

`SPECEX_PREFIX=$WHERE make install`

In order to use the specex plugin with HARP, you need to append location of
the plugin to the search path that HARP uses by doing:

`export HARP_PLUGIN_PATH=$WHERE/lib`


## Installing with waf

This is the technique used by Julien Guy to install specex.

The compilation uses the "meta build system waf" which documentation can be found [here](http://code.google.com/p/waf/)
(but you don't need to download anything).

Waf will look for a `pkgconfig` file for HARP.

If you don't have any, it can be autogenerated with a configure option (see below) provided the utility script `harpconfig` should be available in your path.

Configuration :

```
./waf configure --prefix=WHERE --optimize=3
./waf
./waf install
```

You can try for more options :

```
./waf configure --help
```

Example :
```
./waf configure --prefix=$HOME/software --optimize=0 --debug=True --autogen-harp-pkgconfig=$HOME/software/lib/pkgconfig
./waf
./waf install

```

## Tagging

Update the tag version with
```
make version TAG=x.y.z
```

To automatically increment a dev tag:
```
make version
```

